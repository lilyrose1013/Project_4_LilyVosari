<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browser-to-Browser Chat</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Coral+Pixels&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Start Page -->
  <div id="startPage">
    <h1>ğŸ›°ï¸ Browser-to-Browser Chat</h1>
    <p>Connect and chat with peers in real-time</p>
    <input type="text" id="usernameInput" placeholder="Enter your username..." maxlength="20" style="padding: 10px 20px; font-size: 1em; border: 2px solid #ff66b3; border-radius: 25px; margin-bottom: 20px; width: 250px; text-align: center;">
    <button id="startBtn">Start Chatting</button>
  </div>

  <!-- Chat Page (hidden initially) -->
  <div id="chatPage">
    <div class="ds-container">
      <!-- Top Screen - Received Messages -->
      <div class="top-screen">
        <div id="receivedChat" class="screen-content"></div>
      </div>
      
      <!-- Bottom Screen - Sent Messages -->
      <div class="bottom-screen">
        <div id="sentChat" class="screen-content"></div>
      </div>
      
      <!-- Floating Menu Button -->
      <button id="menuToggle" class="menu-toggle">âš™ï¸ Menu</button>
      
      <!-- Controls Popup -->
      <div id="controlsPopup" class="controls-popup">
        <div class="popup-header">
          <h3>Chat Controls</h3>
          <button id="closePopup" class="close-btn">âœ•</button>
        </div>
        <div class="popup-content">
          <div class="button-column">
            <button id="backBtn" class="ds-button">â† Back</button>
            <button class="tab-button active" data-tab="text">ğŸ’¬ Text</button>
            <button class="tab-button" data-tab="image">ğŸ–¼ï¸ Image</button>
            <button class="tab-button" data-tab="draw">âœï¸ Draw</button>
          </div>
          
          <div class="input-area">
            <!-- Text Chat Tab Content -->
            <div id="textTab" class="tab-content active">
              <input id="messageInput" placeholder="Type your message..." />
              <button id="sendBtn" class="ds-button">Send</button>
            </div>

            <!-- Image Tab Content -->
            <div id="imageTab" class="tab-content">
              <div id="dropZone">
                <p>ğŸ“¤ Drag & drop image or click</p>
                <input type="file" id="imageInput" accept="image/*">
              </div>
              <button id="sendImageBtn" class="ds-button">Send Image</button>
            </div>

            <!-- Draw Tab Content -->
            <div id="drawTab" class="tab-content">
              <canvas id="drawCanvas" width="1200" height="800"></canvas>
              <div style="display: flex; gap: 8px; margin-top: 10px;">
                <button id="clearCanvas" class="ds-button">ğŸ—‘ï¸ Clear</button>
                <input type="color" id="colorPicker" value="#00ff00" style="width: 50px; height: 30px; border: 2px solid #d4a5c7; border-radius: 8px;">
                <input type="range" id="brushSize" min="1" max="20" value="3" style="flex: 1;">
              </div>
              <button id="sendDrawing" class="ds-button" style="width: 100%; margin-top: 10px;">ğŸ“¤ Send Drawing</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script src="./script.js"></script>
</body>
</html>
